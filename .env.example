# NDIS Platform Environment Variables
# Copy this file to .env.local and fill in your actual values

# =============================================================================
# SUPABASE CONFIGURATION (Database & Storage)
# =============================================================================

# Supabase project URL
# Find this in your Supabase project dashboard > Settings > API
SUPABASE_URL="https://your-project-ref.supabase.co"

# Supabase anonymous/public key
# Safe to use in client-side code
SUPABASE_ANON_KEY="your-supabase-anon-key"

# Supabase service role key (SERVER-SIDE ONLY)
# NEVER expose this in client-side code - keep it secret!
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# Supabase JWT secret (optional, for custom auth)
# Only needed if implementing custom JWT handling
SUPABASE_JWT_SECRET="your-supabase-jwt-secret"

# Database connection URL (for Prisma/Direct DB access)
# Format: postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
# Get the password from Supabase dashboard > Settings > Database
DATABASE_URL="postgresql://postgres:your-password@db.your-project-ref.supabase.co:5432/postgres"

# Shadow database for Prisma migrations (optional)
# Use a separate database or the same connection
SHADOW_DATABASE_URL="postgresql://postgres:your-password@db.your-project-ref.supabase.co:5432/postgres"

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# NextAuth.js secret key for JWT signing
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-change-in-production"

# NextAuth.js base URL for callbacks
# In development: http://localhost:3000
# In production: https://yourdomain.com
NEXTAUTH_URL="http://localhost:3000"

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP server configuration for sending emails
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"

# Alternative email service configurations:
# For SendGrid: SMTP_HOST="smtp.sendgrid.net", SMTP_USER="apikey", SMTP_PASSWORD="your-sendgrid-api-key"
# For AWS SES: SMTP_HOST="email-smtp.region.amazonaws.com", etc.

# =============================================================================
# STORAGE CONFIGURATION (Supabase Storage)
# =============================================================================

# Supabase storage bucket name for file uploads
# Create buckets in Supabase dashboard > Storage
# Common buckets: 'documents', 'images', 'avatars', 'uploads'
SUPABASE_STORAGE_BUCKET="uploads"

# Maximum file size for uploads (in bytes)
# Default: 50MB = 52428800 bytes
MAX_FILE_SIZE="52428800"

# Allowed file types (comma-separated MIME types)
# Example: image/jpeg,image/png,application/pdf,text/csv
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,application/pdf,text/csv,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"

# Alternative: AWS S3 (if you prefer to use S3 instead of Supabase Storage)
# AWS_REGION="ap-southeast-2"
# AWS_ACCESS_KEY_ID="your-aws-access-key-id"
# AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
# S3_BUCKET="ndis-platform-uploads"

# =============================================================================
# MONITORING & ERROR TRACKING
# =============================================================================

# Sentry DSN for error tracking and performance monitoring
# Get this from your Sentry project settings
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# OpenTelemetry collector endpoint (optional)
# For advanced observability and tracing
OPENTELEMETRY_ENDPOINT="http://localhost:4317"

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable multi-factor authentication (true/false)
FEATURE_MFA="false"

# Enable detailed audit logging (true/false)
# Note: This may impact performance in high-traffic scenarios
FEATURE_AUDIT_LOGGING="true"

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Enable debug logging (development only)
DEBUG="false"

# Log level: error, warn, info, debug
LOG_LEVEL="info"

# =============================================================================
# SECURITY & COMPLIANCE
# =============================================================================

# Encryption key for sensitive data (generate random 32-byte key)
# openssl rand -hex 32
ENCRYPTION_KEY="your-32-byte-encryption-key"

# CORS allowed origins (comma-separated)
# In production: https://yourdomain.com,https://admin.yourdomain.com
CORS_ORIGINS="http://localhost:3000"

# =============================================================================
# EXTERNAL API KEYS (if applicable)
# =============================================================================

# Add any external service API keys here as needed
# Example: STRIPE_SECRET_KEY="sk_test_..."
# Example: TWILIO_ACCOUNT_SID="..."
# Example: SENDGRID_API_KEY="..."

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Environment name (development, staging, production)
NODE_ENV="development"

# Application port (for custom deployments)
PORT="3000"

# Base URL for the application
APP_URL="http://localhost:3000"

# =============================================================================
# DATABASE MIGRATION & SEEDING
# =============================================================================

# Skip database seeding in production
SKIP_DB_SEED="false"

# Database migration strategy (apply, baseline, etc.)
DB_MIGRATION_STRATEGY="apply"